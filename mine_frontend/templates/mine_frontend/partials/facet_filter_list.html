{% load facet_tags %}
{% if has_active_filters %}
    <div class="active-filters mb-3">
        <h5>Aktive Filter:</h5>
        {% for filter in filters %}
            <div class="active-filter-group">
                <strong>{{ filter.label }}:</strong>
                {% for selected_value in filter.values %}
                    <span class="badge badge-primary me-1 text-dark">
                        {% get_facet_label filter selected_value %}
                        <a href="{% facet_url request filter.param selected_value 'remove' %}"
                           class="ms-1">×</a>
                    </span>
                {% endfor %}
            </div>
        {% endfor %}
        {% for facet_key, facet_data in facets.items %}
            {% if facet_data.selected %}
                <div class="active-filter-group">
                    <strong>{{ facet_data.label }}:</strong>
                    {% for selected_value in facet_data.selected %}
                        {% if selected_value %}
                            <span class="badge badge-primary me-1 text-dark">
                                {{ selected_value }}
                                <a href="{% facet_url request facet_key selected_value 'remove' %}"
                                   class="ms-1">×</a>
                            </span>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endif %}
        {% endfor %}
        <a href="?" class="btn btn-sm btn-outline-secondary mt-2">Alle Filter zurücksetzen</a>
    </div>
{% endif %}
